.TH texpire 8 "@VERSION@" leafnode Leafnode \" -*- nroff -*-
.\"
.\" Written by Arnt Gulbrandsen <agulbra@troll.no> and copyright 1995 Troll
.\" Tech AS, Postboks 6133 Etterstad, 0602 Oslo, Norway, fax +47 22646949.
.\"
.\" Use, modification and distribution is allowed without limitation,
.\" warranty, or liability of any kind.
.\"
.\" $Id: texpire.8.in,v 1.10 2004/09/28 22:27:21 emma Exp $
.\"
.\" hilit19 is stupid: "
.SH NAME
texpire \- delete old news article threads

.SH SYNOPSIS
.B texpire -V

.B texpire [-fnr] [-D debugmode] [-F configfile] [-v[v[v[v]]]]

.B texpire [-D debugmode] [-F configfile] [-v[v[v[v]]]] -C messageid [...]

.SH DESCRIPTION
.B Leafnode
is a USENET package intended for small sites, where there are few
users and little disk space, but where a large number of groups is
desired.
.PP
The design of
.B leafnode
is intended to repair any problems itself, to detect what newsgroups
the users read, and to require no manual manual maitenance.
.PP
.B Texpire
is the program which deletes old articles from the local news spool,
rehashes the spool after updates of leafnode.

.SH OPTIONS
.TP
.I -C messageid [...]
Switch on cancel mode. This will attempt to remove the articles with
given Message-ID numbers from the spool. Note that the Message-ID must
be given with angle brackets; remember to use single quotes to protect
the Message-IDs from the shell.
.TP
.I -D debugmode
Switch on debug mode. This will log a lot of information via syslog to
the facility "news" with the priority "debug". Useful for tracking down
problems with your upstream server(s). If debug mode has already been
set in the config file, increase verbosity. See
.I config.example
for details on how to set the debugmode.
.TP
.I -F configfile
Read configuration from an alternate config file instead of
/etc/leafnode/config.
.TP
.I -f
Expire will look at the arrival time of the articles rather than at the
access time. Expiry will still be thread-based.
.TP
.I -a
Expire individual articles rather than threads.
.TP
.I -n
Dry run mode. In this mode, texpire will not delete anything, it will
just write what it would do without -n.
.TP
.I -r
Repair and migrate mode. In this mode, texpire tries to save as much of the news
spool as it can. This mode MUST be used when upgrading to a leafnode
version which has a different hash function for message.id than the
version previously installed. If in doubt, use -r after an update.
.TP
.I -v
Be verbose.  A maximum of four
.I -v
can be used (the more v, the more verbose).  Don't expect all the output
to make sense.
.TP
.I -V
Print texpire version information and exit.

.SH FILES
.I @sysconfdir@/config.example
documents the debug modes.

See
.BR leafnode (8)
for the list of other files affected.

.SH BUGS
.PP
.B Texpire
ignores "Expires" headers.
.PP
.B Texpire
is unable to delete articles in groups where article numbers are far
apart, because the required memory depends on the difference between
lowest and highest article number in that group.

.SH AUTHOR
Written by Arnt Gulbrandsen <agulbra@troll.no> and copyright 1995
Troll Tech AS, Postboks 6133 Etterstad, 0602 Oslo, Norway, fax +47
22646949.
.PP
Modified by Cornelius Krasel <krasel@wpxx02.toxi.uni-wuerzburg.de>.
Copyright of the modifications 1997-1999.
.PP
Modified by Matthias Andree <matthias.andree@gmx.de>. Copyright of the
modifications 1999-2004.
.PP
Parts written by Stefan Wiens <s.wi@gmx.de>. Copyright 2001.

.SH SEE ALSO
.BR tcpd (8),
.BR hosts.allow (5),
.BR leafnode (8),
.BR fetchnews (8),
.B "RFC 977"
